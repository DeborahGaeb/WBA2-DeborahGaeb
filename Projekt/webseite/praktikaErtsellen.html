<!DOCTYPE=html5>
<html>
    <head> 
        <meta charset="utf-8"> 
        <link rel="stylesheet" href="main.css">
    </head>
    <script type="text/javascript" src="http://localhost:8000/faye/praktkaErstellen.js"></script>
    <center>
        <table>
            <form action="start.js" method="post">
            <tr> <td colspan="2"><center><h1>Praktikum erstellen </h1></center> </td></tr>
            <tr>
                <td><h3>Fach:</h3></td> 
                <td><select><optgroup id:"fach", name="fach">             
                    <option label="Alogrimen und Programmieren 1">Alogrimen und Programmieren 1</option>
                    <option label="Alogrimen und Programmieren 2">Alogrimen und Programmieren 2</option>
                    <option label="Mathematik 1">Mathematik 1</option>
                    <option label="Mathematik 2">Mathematik 2</option> 
                    <option label="Kommunikation und Netze">Kommunikation und Netze</option>
                    <option label="Datenbanken 1">Datenbanken 1</option>
                    <option label="Projektmanegment">Projektmanagement</option>
                    <option label="Algorithmik">Algorithmik</option>
                    <option label="Paradigmen der Programmierung">Paradigmen der Programmierung</option>
                    <option label="Datenbanken 2">Datenbanken 2</option>
                    <option label="Softwaretechnik 1">Softwaretechnik 1 </option>
                    <option label="Softwaretechnik 2">Softwaretechnik 2 </option>
                    <option label="Mensch Computer Interaktion"> Mensch Computer Interaktion</option>
                    <option label="Künstliche Intelligenz">Künstliche Intelligenz</option>
                    <option label="Betriebsysteme">Betriebsysteme</option>
                    <option label="Softwaretechnik">Softwaretechnik</option>
                    <option label="Computergrafik und Annimation"> Computergrafik und Annimation</option>
                </optgroup></select></td>
            </tr>      
            <tr>
                <td><h3>Studiengang:</h3></td>
                <td><select><optgroup name="studiengang"> 
                    <option label="Medieninformatik">Medieninformatik</option>
                    <option label="Informatik">Informatik</option>
                    <option label="Wirtschaftsinformatik">Wirtschaftsinformatik</option>
                    <option label="Technische Informatik">Technische Informatik</option>
                    <option label="Medieninformatik, Informatik">Medieninformatik, Informatik</option>
                    <option label="Medieninformatik, Informatik, Technische Informatik">Medieninformatik, Informatik, Technische Informatik</option>
                    <option label="Medieninformatik, Technische Informatik">Medieninformatik, Technische Informatik</option>
                    <option label="Informatik, Wirtschaftsinformatik">Informatik, Wirtschaftsinformatik</option>
                    <option label="alle Studiengaenge">Alle Studiengänge</option>
                </optgroup></select></td>
            </tr>    
            <tr>
                <td> <h3>Anzahl der Termine :</h3></td> <td><label><input name="anzahlDerTermine" type="number"></label></td>
            </tr>  
            <tr>
                <td><label for:"gesamtGruppengroesse"><h3>gesamt Gruppengröße:</h3></label></td> 
                <td><input name="gesamtGruppengroesse" type="number"></td>
            </tr> 
            <tr>
                <td><h3>Terminelänge:</h3></td> <td><label><input name="stundenLaenge" type="number"></label></td>
            </tr> 
            <tr><td> <h3>Gruppenarbeit:</h3> </td><td>
               <select><optgroup label="Gruppenarbeit">
                   <option label="Ja">Ja</option>
                   <option label="Nein">Nein</option>
                </optgroup></select>
            </td></tr> 
            <tr>
                <td><label for:"gruppengroesse"><h3>Gruppengröße:</h3></label> </td>
                <td><input name="Gruppengröße" type="number"></td>
            </tr> 
            <tr>
                <td><center><input type="button" value="speichern" onClick="<praktikumErstellen(this.form)"></center></td>
            </tr>
        </form>
        </table>
    </center>

<script type="text/javascript">
  function pruefen(f) {
      var fehler = "";
      if (f.elements["fach"].value == "")                  fehler = "Fach nicht angegeben";
      if  (f.elements["studiengang"].value == "")          fehler = "Studiengang nicht angegeben";
      if  (f.elements["anzahlDerTermine"].value == "")     fehler = "Vorname nicht angegeben";  
      if (f.elements["gesamtGruppengroesse"].value == "")  fehler = "gesamt Gruppengröße nicht angegeben";
      if (f.elements["terminlaenge"].value == "")          fehler = "CampusID nicht angegeben";
      if (f.elements["gruppenarbeit"].value == "")         fehler = "Gruppenarbeiter nicht angegeben";
      if (f.elements["gruppengroesse"].value == "")        fehler = "Gruppengröße nicht angegeben";
          
      if ( fehler != "") {                           
          alert(fehler);
          return false;
    }
    registrieren();
    return false;
    }

    
//======================================================================================================
    function praktikaErstellen() {
      debugger;
      console.log("Soll hier etwas machen");
        var f = document.forms[0];
        var xhr = XMLHttpRequest();
        xhr.open("POST","/users",false);
        xhr.setRequestHeader("Contet-type","application/json");
        xhr.send(
         JSON.parse("{'fach': '"+f.elements["fach"].value+"','studiengang':'"+f.elements["studiengang"].value+"' ,'anzahlDerTermine':'"+ f.elements["anzahlDerTermine"].value+ "','gesamtGruppengroesse': '" + f.elements["gesamtGruppengroesse"].value+"' ,'gruppenarbeit': '" +f.elements["gruppenarbeit"].value+"', 'gruppengroesse': '" +f.elements["gruppengroesse"]+"''}")
        );
        console.log(xhr.responseText);
        return false;
    }
  </script>
</html>